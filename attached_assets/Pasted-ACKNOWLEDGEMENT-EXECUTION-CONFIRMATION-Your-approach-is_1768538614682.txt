ACKNOWLEDGEMENT + EXECUTION CONFIRMATION

Your approach is correct and aligned with the agreed production plan.
Proceed exactly as outlined, with the following STRICT execution constraints and reporting format.

==================================================
EXECUTION RULES (NON-NEGOTIABLE)
==================================================

1) Work in ONE linear pass per item (no parallel partial commits)
2) NO push to GitHub until ALL fixes are completed and verified
3) If ANY fix risks breaking prod behavior ‚Üí STOP and REPORT
4) Do NOT introduce refactors, abstractions, or ‚Äúnice cleanups‚Äù
5) Only touch files directly related to the listed issues

==================================================
AUTHORIZED TASK LIST (LOCKED)
==================================================

[CRITICAL ‚Äî MUST FIX]

1) Session / GAESA Cookie Security  
- Add: HttpOnly; Secure; SameSite=Lax  
- Location: Cloudflare OR backend session middleware (choose safest)  
- Verification: Browser DevTools + Pentest Tools rescan  
- Status required: ‚úÖ RESOLVED

[IMPORTANT ‚Äî FIX IF SAFE]

2) Duplicate HSTS Header  
- Keep ONLY: max-age=63072000; includeSubDomains  
- Remove duplicate source (Helmet OR Cloudflare, not both)  
- Verification: SecurityHeaders scan  
- Status required: ‚úÖ RESOLVED or ‚ö†Ô∏è DEFERRED (with reason)

3) API JSON Fallback  
- Ensure /api/* unmatched routes return JSON 401/404  
- Must execute BEFORE SPA catch-all  
- Verification: curl /api/nonexistent  
- Status required: ‚úÖ RESOLVED

[NICE-TO-HAVE ‚Äî DO NOT BLOCK SHIP]

4) Canonical URLs  
- Canonical must reflect current page URL dynamically  
- Verification: View source on destination pages  

5) Cache-Control  
- Static pages:  
  public, max-age=60, stale-while-revalidate=300  
- Verification: Response headers via DevTools / curl  

==================================================
FINAL REPORT FORMAT (MANDATORY)
==================================================

SECTION: FINAL QA REPORT

[üü¢ PASS] / [üü• FAIL] / [‚ö†Ô∏è DEFERRED]

- Issue:
- Area:
- Change Made:
- File / Layer:
- Verification Method:
- Notes (if any):

--------------------------------------------------

FINAL VERDICT:
Production safe to ship: YES / NO

If YES ‚Üí Ready for deploy  
If NO ‚Üí Blocking reason explicitly stated

==================================================
IMPORTANT
==================================================

Do NOT push incremental fixes.
Deliver ONE final commit + the report above.

You are cleared to proceed.