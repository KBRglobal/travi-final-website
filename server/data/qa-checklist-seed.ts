import { db } from "../db";
import { qaCategories, qaChecklistItems } from "@shared/schema";

interface CategoryData {
  key: string;
  name: string;
  nameHe: string;
  icon: string;
  description: string;
  items: ItemData[];
}

interface ItemData {
  key: string;
  name: string;
  nameHe: string;
  description: string;
  descriptionHe: string;
  severity: "critical" | "high" | "medium" | "low";
  checkGuidelines?: string;
}

const QA_CHECKLIST_DATA: CategoryData[] = [
  {
    key: "inter_component_communication",
    name: "Inter-Component Communication",
    nameHe: "",
    icon: "üß©",
    description: "Communication contracts and dependencies between system components",
    items: [
      {
        key: "communication_contracts",
        name: "Communication Contracts",
        nameHe: "",
        description: "Verify all component communication contracts are documented and followed",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "backward_compatibility",
        name: "Backward Compatibility",
        nameHe: "",
        description: "Ensure changes maintain backward compatibility",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "forward_compatibility",
        name: "Forward Compatibility",
        nameHe: "",
        description: "System handles unknown future fields gracefully",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "contract_change_management",
        name: "Contract Change Management",
        nameHe: "",
        description: "Process exists for managing contract changes",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "contract_ownership",
        name: "Contract Ownership",
        nameHe: "",
        description: "Each contract has clear ownership",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "version_sync",
        name: "Version Synchronization",
        nameHe: "",
        description: "Component versions are synchronized properly",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "component_mocking",
        name: "Component Mocking",
        nameHe: "",
        description: "Components can be mocked for testing",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "service_dependencies",
        name: "Service Dependencies",
        nameHe: "",
        description: "Service dependencies are clearly mapped",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "layer_coupling",
        name: "Layer Coupling",
        nameHe: "",
        description: "Minimal coupling between architectural layers",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "fan_out_fan_in",
        name: "Fan-out / Fan-in",
        nameHe: "Fan-out / Fan-in",
        description: "Fan-out and fan-in patterns are optimized",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "inter_component_latency",
        name: "Inter-Component Latency",
        nameHe: "",
        description: "Latency between components is monitored",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "failure_propagation",
        name: "Failure Propagation",
        nameHe: "Failure Propagation",
        description: "Failures don't cascade between components",
        descriptionHe: "",
        severity: "critical",
      },
    ],
  },
  {
    key: "frontend_backend",
    name: "Frontend ‚Üî Backend",
    nameHe: "Frontend ‚Üî Backend",
    icon: "üåê",
    description: "API communication between frontend and backend",
    items: [
      {
        key: "request_structure",
        name: "Request Structure",
        nameHe: "",
        description: "API request structures are consistent",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "response_structure",
        name: "Response Structure",
        nameHe: "",
        description: "API response structures are consistent",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "error_handling",
        name: "Error Handling",
        nameHe: "",
        description: "Errors are handled consistently",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "status_codes",
        name: "Status Codes",
        nameHe: "",
        description: "HTTP status codes are used correctly",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "timeout_handling",
        name: "Timeout Handling",
        nameHe: "",
        description: "Timeouts are handled gracefully",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "retry_strategy",
        name: "Retry Strategy",
        nameHe: "Retry Strategy",
        description: "Retry logic with exponential backoff",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "partial_responses",
        name: "Partial Responses",
        nameHe: "Handling Partial Responses",
        description: "Partial responses are handled correctly",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "rate_limit_awareness",
        name: "Rate Limit Awareness",
        nameHe: "Rate Limit Awareness",
        description: "Client respects rate limits",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "caching_awareness",
        name: "Caching Awareness",
        nameHe: "Caching Awareness",
        description: "Proper cache headers and invalidation",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "session_awareness",
        name: "Session Awareness",
        nameHe: "Session Awareness",
        description: "Session state is managed correctly",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "api_backward_compatibility",
        name: "API Backward Compatibility",
        nameHe: "Backward API Compatibility",
        description: "API changes maintain backward compatibility",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "api_deprecation",
        name: "API Deprecation Flow",
        nameHe: "API Deprecation Flow",
        description: "Deprecated APIs have migration path",
        descriptionHe: "",
        severity: "medium",
      },
    ],
  },
  {
    key: "backend_internal",
    name: "Backend ‚Äì Internal Structure",
    nameHe: "",
    icon: "üß†",
    description: "Backend architecture and internal organization",
    items: [
      {
        key: "layer_separation",
        name: "Layer Separation",
        nameHe: "",
        description: "Clear separation between layers",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "responsibility_boundaries",
        name: "Responsibility Boundaries",
        nameHe: "",
        description: "Each module has clear responsibilities",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "domain_boundaries",
        name: "Domain Boundaries",
        nameHe: "Domain Boundaries",
        description: "Domain boundaries are well-defined",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "dto_usage",
        name: "DTO Usage",
        nameHe: "",
        description: "DTOs are used for data transfer",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "side_effects",
        name: "Side Effects",
        nameHe: "Side Effects",
        description: "Side effects are controlled and documented",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "business_logic_centralization",
        name: "Business Logic Centralization",
        nameHe: "Business Logic Centralization",
        description: "Business logic is centralized",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "transaction_boundaries",
        name: "Transaction Boundaries",
        nameHe: "Transaction Boundaries",
        description: "Transaction boundaries are clear",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "cross_service_calls",
        name: "Cross-Service Calls",
        nameHe: "Cross-Service Calls",
        description: "Cross-service calls are optimized",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "async_processing",
        name: "Async Processing",
        nameHe: "Async Processing",
        description: "Async operations are handled properly",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "job_orchestration",
        name: "Job Orchestration",
        nameHe: "Job Orchestration",
        description: "Background jobs are orchestrated well",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "idempotency",
        name: "Idempotency",
        nameHe: "Idempotency",
        description: "Operations are idempotent where needed",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "state_management",
        name: "State Management",
        nameHe: "State Management",
        description: "State is managed consistently",
        descriptionHe: "",
        severity: "high",
      },
    ],
  },
  {
    key: "frontend_internal",
    name: "Frontend ‚Äì Internal Structure",
    nameHe: "",
    icon: "üñ•Ô∏è",
    description: "Frontend architecture and state management",
    items: [
      {
        key: "state_ownership",
        name: "State Ownership",
        nameHe: "State Ownership",
        description: "State ownership is clear",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "global_vs_local_state",
        name: "Global vs Local State",
        nameHe: "Global vs Local State",
        description: "Proper use of global vs local state",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "data_fetching",
        name: "Data Fetching Strategy",
        nameHe: "Data Fetching Strategy",
        description: "Consistent data fetching patterns",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "caching_strategy",
        name: "Caching Strategy",
        nameHe: "Caching Strategy",
        description: "Client-side caching is effective",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "error_boundaries",
        name: "Error Boundaries",
        nameHe: "Error Boundaries",
        description: "Error boundaries prevent crashes",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "ui_consistency",
        name: "UI Consistency",
        nameHe: "UI Consistency",
        description: "UI is consistent across the app",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "feature_flag_consumption",
        name: "Feature Flag Consumption",
        nameHe: "Feature Flag Consumption",
        description: "Feature flags are consumed correctly",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "environment_awareness",
        name: "Environment Awareness",
        nameHe: "Environment Awareness",
        description: "App is environment-aware",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "api_failure_ux",
        name: "API Failure UX",
        nameHe: "API Failure UX",
        description: "Good UX when API fails",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "offline_ux",
        name: "Offline UX",
        nameHe: "Offline UX",
        description: "App handles offline mode",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "version_drift",
        name: "Version Drift Handling",
        nameHe: "Version Drift Handling",
        description: "Version drift is detected and handled",
        descriptionHe: "",
        severity: "medium",
      },
    ],
  },
  {
    key: "authentication",
    name: "Authentication",
    nameHe: "",
    icon: "üîê",
    description: "User authentication and identity management",
    items: [
      {
        key: "identity_provider",
        name: "Identity Provider",
        nameHe: "Identity Provider",
        description: "Identity provider is properly configured",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "login_flow",
        name: "Login Flow",
        nameHe: "Login Flow",
        description: "Login flow is secure and user-friendly",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "token_issuance",
        name: "Token Issuance",
        nameHe: "Token Issuance",
        description: "Tokens are issued securely",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "token_expiration",
        name: "Token Expiration",
        nameHe: "Token Expiration",
        description: "Token expiration is configured correctly",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "token_refresh",
        name: "Token Refresh",
        nameHe: "Token Refresh",
        description: "Token refresh works properly",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "token_revocation",
        name: "Token Revocation",
        nameHe: "Token Revocation",
        description: "Tokens can be revoked",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "multi_device_sessions",
        name: "Multi-Device Sessions",
        nameHe: "Multi-Device Sessions",
        description: "Multi-device sessions handled correctly",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "session_hijacking_prevention",
        name: "Session Hijacking Prevention",
        nameHe: "Session Hijacking Prevention",
        description: "Session hijacking is prevented",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "logout_flow",
        name: "Logout Flow",
        nameHe: "Logout Flow",
        description: "Logout clears all session data",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "password_policies",
        name: "Password Policies",
        nameHe: "Password Policies",
        description: "Strong password policies enforced",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "mfa_flow",
        name: "MFA Flow",
        nameHe: "MFA Flow",
        description: "MFA is available and works correctly",
        descriptionHe: "",
        severity: "high",
      },
    ],
  },
  {
    key: "authorization",
    name: "Authorization",
    nameHe: "",
    icon: "üõÇ",
    description: "Access control and permissions",
    items: [
      {
        key: "role_model",
        name: "Role Model",
        nameHe: "Role Model",
        description: "Role model is well-defined",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "permission_model",
        name: "Permission Model",
        nameHe: "Permission Model",
        description: "Permission model is granular",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "resource_ownership",
        name: "Resource Ownership",
        nameHe: "Resource Ownership",
        description: "Resource ownership is enforced",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "policy_evaluation",
        name: "Policy Evaluation",
        nameHe: "Policy Evaluation",
        description: "Policies are evaluated consistently",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "backend_enforcement",
        name: "Backend Enforcement",
        nameHe: "Backend Enforcement",
        description: "Authorization enforced on backend",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "frontend_enforcement",
        name: "Frontend Enforcement",
        nameHe: "Frontend Enforcement",
        description: "UI reflects user permissions",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "privilege_escalation",
        name: "Privilege Escalation Prevention",
        nameHe: "Privilege Escalation",
        description: "Privilege escalation is prevented",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "default_deny",
        name: "Default Deny",
        nameHe: "Default Deny",
        description: "Default deny policy in place",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "cross_tenant_isolation",
        name: "Cross-Tenant Isolation",
        nameHe: "Cross-Tenant Isolation",
        description: "Tenant data is isolated",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "admin_capabilities",
        name: "Admin Capabilities",
        nameHe: "Admin Capabilities",
        description: "Admin actions are audited",
        descriptionHe: "",
        severity: "high",
      },
    ],
  },
  {
    key: "data_persistence",
    name: "Data & Persistence",
    nameHe: "",
    icon: "üóÑÔ∏è",
    description: "Database design and data management",
    items: [
      {
        key: "schema_design",
        name: "Schema Design",
        nameHe: "Schema Design",
        description: "Database schema is well-designed",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "data_ownership",
        name: "Data Ownership",
        nameHe: "Data Ownership",
        description: "Data ownership is clear",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "referential_integrity",
        name: "Referential Integrity",
        nameHe: "Referential Integrity",
        description: "Referential integrity is maintained",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "transactions",
        name: "Transactions",
        nameHe: "Transactions",
        description: "Transactions are used appropriately",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "isolation_levels",
        name: "Isolation Levels",
        nameHe: "Isolation Levels",
        description: "Correct isolation levels configured",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "index_strategy",
        name: "Index Strategy",
        nameHe: "Index Strategy",
        description: "Indexes are optimized",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "migration_strategy",
        name: "Migration Strategy",
        nameHe: "Migration Strategy",
        description: "Migration strategy exists",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "rollbacks",
        name: "Rollbacks",
        nameHe: "Rollbacks",
        description: "Rollback procedures are tested",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "soft_deletes",
        name: "Soft Deletes",
        nameHe: "Soft Deletes",
        description: "Soft deletes implemented where needed",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "hard_deletes",
        name: "Hard Deletes",
        nameHe: "Hard Deletes",
        description: "Hard deletes are controlled",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "data_auditing",
        name: "Data Auditing",
        nameHe: "Data Auditing",
        description: "Data changes are audited",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "historical_data",
        name: "Historical Data",
        nameHe: "Historical Data",
        description: "Historical data is preserved",
        descriptionHe: "",
        severity: "medium",
      },
    ],
  },
  {
    key: "security_general",
    name: "Security (General)",
    nameHe: "",
    icon: "üîí",
    description: "General security practices",
    items: [
      {
        key: "input_validation",
        name: "Input Validation",
        nameHe: "Input Validation",
        description: "All inputs are validated",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "output_encoding",
        name: "Output Encoding",
        nameHe: "Output Encoding",
        description: "Outputs are properly encoded",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "injection_prevention",
        name: "Injection Prevention",
        nameHe: "Injection Prevention",
        description: "SQL/XSS injection prevented",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "secrets_management",
        name: "Secrets Management",
        nameHe: "Secrets Management",
        description: "Secrets are managed securely",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "encryption_transit",
        name: "Encryption In Transit",
        nameHe: "Encryption In Transit",
        description: "Data encrypted in transit",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "encryption_rest",
        name: "Encryption At Rest",
        nameHe: "Encryption At Rest",
        description: "Data encrypted at rest",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "key_rotation",
        name: "Key Rotation",
        nameHe: "Key Rotation",
        description: "Encryption keys are rotated",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "rate_limiting",
        name: "Rate Limiting",
        nameHe: "Rate Limiting",
        description: "Rate limiting is configured",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "brute_force_protection",
        name: "Brute Force Protection",
        nameHe: "Brute Force Protection",
        description: "Brute force attacks prevented",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "abuse_detection",
        name: "Abuse Detection",
        nameHe: "Abuse Detection",
        description: "Abuse patterns are detected",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "audit_logging",
        name: "Audit Logging",
        nameHe: "Audit Logging",
        description: "Security events are logged",
        descriptionHe: "",
        severity: "critical",
      },
    ],
  },
  {
    key: "threat_modeling",
    name: "Threat Modeling",
    nameHe: "",
    icon: "üß®",
    description: "Security threat analysis and mitigation",
    items: [
      {
        key: "attack_surface",
        name: "Attack Surface Mapping",
        nameHe: "Attack Surface Mapping",
        description: "Attack surface is documented",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "trust_boundaries",
        name: "Trust Boundaries",
        nameHe: "Trust Boundaries",
        description: "Trust boundaries are defined",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "entry_points",
        name: "Entry Points",
        nameHe: "Entry Points",
        description: "All entry points are secured",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "privilege_boundaries",
        name: "Privilege Boundaries",
        nameHe: "Privilege Boundaries",
        description: "Privilege boundaries enforced",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "data_exposure",
        name: "Data Exposure Points",
        nameHe: "Data Exposure Points",
        description: "Data exposure points identified",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "abuse_scenarios",
        name: "Abuse Scenarios",
        nameHe: "Abuse Scenarios",
        description: "Abuse scenarios are documented",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "insider_threats",
        name: "Insider Threats",
        nameHe: "Insider Threats",
        description: "Insider threats are considered",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "third_party_risks",
        name: "Third-Party Risks",
        nameHe: "Third-Party Risks",
        description: "Third-party risks assessed",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "supply_chain_risks",
        name: "Supply Chain Risks",
        nameHe: "Supply Chain Risks",
        description: "Supply chain risks assessed",
        descriptionHe: "",
        severity: "high",
      },
    ],
  },
  {
    key: "observability",
    name: "Observability",
    nameHe: "",
    icon: "üìä",
    description: "Logging, monitoring, and alerting",
    items: [
      {
        key: "centralized_logging",
        name: "Centralized Logging",
        nameHe: "Centralized Logging",
        description: "Logs are centralized",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "log_structure",
        name: "Log Structure",
        nameHe: "Log Structure",
        description: "Logs are structured consistently",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "log_correlation",
        name: "Log Correlation",
        nameHe: "Log Correlation",
        description: "Logs can be correlated",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "metrics_definition",
        name: "Metrics Definition",
        nameHe: "Metrics Definition",
        description: "Key metrics are defined",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "sla_metrics",
        name: "SLA Metrics",
        nameHe: "SLA Metrics",
        description: "SLA metrics are tracked",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "slo_metrics",
        name: "SLO Metrics",
        nameHe: "SLO Metrics",
        description: "SLO metrics are defined",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "error_tracking",
        name: "Error Tracking",
        nameHe: "Error Tracking",
        description: "Errors are tracked centrally",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "distributed_tracing",
        name: "Distributed Tracing",
        nameHe: "Distributed Tracing",
        description: "Distributed tracing enabled",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "health_endpoints",
        name: "Health Endpoints",
        nameHe: "Health Endpoints",
        description: "Health endpoints exist",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "readiness_probes",
        name: "Readiness Probes",
        nameHe: "Readiness Probes",
        description: "Readiness probes configured",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "alerting_rules",
        name: "Alerting Rules",
        nameHe: "Alerting Rules",
        description: "Alerting rules are configured",
        descriptionHe: "",
        severity: "high",
      },
    ],
  },
  {
    key: "performance",
    name: "Performance",
    nameHe: "",
    icon: "‚ö°",
    description: "System performance and optimization",
    items: [
      {
        key: "api_latency",
        name: "API Latency",
        nameHe: "API Latency",
        description: "API latency is acceptable",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "cold_starts",
        name: "Cold Starts",
        nameHe: "Cold Starts",
        description: "Cold starts are minimized",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "n_plus_1_queries",
        name: "N+1 Queries",
        nameHe: "N+1 Queries",
        description: "N+1 queries eliminated",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "payload_size",
        name: "Payload Size",
        nameHe: "Payload Size",
        description: "Payload sizes are optimized",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "caching_layers",
        name: "Caching Layers",
        nameHe: "Caching Layers",
        description: "Caching layers are effective",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "cache_invalidation",
        name: "Cache Invalidation",
        nameHe: "Cache Invalidation",
        description: "Cache invalidation works correctly",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "async_offloading",
        name: "Async Offloading",
        nameHe: "Async Offloading",
        description: "Heavy work is offloaded",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "concurrency_limits",
        name: "Concurrency Limits",
        nameHe: "Concurrency Limits",
        description: "Concurrency limits are set",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "load_testing",
        name: "Load Testing",
        nameHe: "Load Testing",
        description: "Load testing performed",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "stress_testing",
        name: "Stress Testing",
        nameHe: "Stress Testing",
        description: "Stress testing performed",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "bottleneck_analysis",
        name: "Bottleneck Analysis",
        nameHe: "Bottleneck Analysis",
        description: "Bottlenecks identified and addressed",
        descriptionHe: "",
        severity: "high",
      },
    ],
  },
  {
    key: "infrastructure",
    name: "Infrastructure",
    nameHe: "",
    icon: "‚òÅÔ∏è",
    description: "Cloud infrastructure and networking",
    items: [
      {
        key: "environment_separation",
        name: "Environment Separation",
        nameHe: "Environment Separation",
        description: "Environments are separated",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "network_segmentation",
        name: "Network Segmentation",
        nameHe: "Network Segmentation",
        description: "Network is segmented",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "vpc_subnets",
        name: "VPC / Subnets",
        nameHe: "VPC / Subnets",
        description: "VPC and subnets configured",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "firewall_rules",
        name: "Firewall Rules",
        nameHe: "Firewall Rules",
        description: "Firewall rules are restrictive",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "load_balancers",
        name: "Load Balancers",
        nameHe: "Load Balancers",
        description: "Load balancers configured correctly",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "auto_scaling",
        name: "Auto Scaling",
        nameHe: "Auto Scaling",
        description: "Auto scaling is configured",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "service_discovery",
        name: "Service Discovery",
        nameHe: "Service Discovery",
        description: "Service discovery works",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "secrets_injection",
        name: "Secrets Injection",
        nameHe: "Secrets Injection",
        description: "Secrets injected securely",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "infrastructure_drift",
        name: "Infrastructure Drift",
        nameHe: "Infrastructure Drift",
        description: "Infrastructure drift is detected",
        descriptionHe: "",
        severity: "medium",
      },
    ],
  },
  {
    key: "ci_cd",
    name: "CI / CD",
    nameHe: "CI / CD",
    icon: "üîÅ",
    description: "Continuous integration and deployment",
    items: [
      {
        key: "build_pipeline",
        name: "Build Pipeline",
        nameHe: "Build Pipeline",
        description: "Build pipeline is reliable",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "test_pipeline",
        name: "Test Pipeline",
        nameHe: "Test Pipeline",
        description: "Tests run in pipeline",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "security_scanning",
        name: "Security Scanning",
        nameHe: "Security Scanning",
        description: "Security scans run in CI",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "dependency_scanning",
        name: "Dependency Scanning",
        nameHe: "Dependency Scanning",
        description: "Dependencies are scanned",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "artifact_management",
        name: "Artifact Management",
        nameHe: "Artifact Management",
        description: "Artifacts are managed properly",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "environment_promotion",
        name: "Environment Promotion",
        nameHe: "Environment Promotion",
        description: "Promotion process is defined",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "rollback_strategy",
        name: "Rollback Strategy",
        nameHe: "Rollback Strategy",
        description: "Rollback strategy exists",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "blue_green_deployments",
        name: "Blue-Green Deployments",
        nameHe: "Blue-Green Deployments",
        description: "Blue-green deployments available",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "canary_releases",
        name: "Canary Releases",
        nameHe: "Canary Releases",
        description: "Canary releases supported",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "manual_gates",
        name: "Manual Gates",
        nameHe: "Manual Gates",
        description: "Manual gates for production",
        descriptionHe: "",
        severity: "high",
      },
    ],
  },
  {
    key: "testing_strategy",
    name: "Testing Strategy",
    nameHe: "",
    icon: "üß™",
    description: "Test coverage and quality assurance",
    items: [
      {
        key: "unit_coverage",
        name: "Unit Coverage",
        nameHe: "Unit Coverage",
        description: "Unit test coverage is adequate",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "integration_coverage",
        name: "Integration Coverage",
        nameHe: "Integration Coverage",
        description: "Integration tests exist",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "contract_tests",
        name: "Contract Tests",
        nameHe: "Contract Tests",
        description: "Contract tests are in place",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "e2e_tests",
        name: "End-to-End Tests",
        nameHe: "End-to-End Tests",
        description: "E2E tests cover critical paths",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "negative_testing",
        name: "Negative Testing",
        nameHe: "Negative Testing",
        description: "Negative scenarios tested",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "edge_cases",
        name: "Edge Cases",
        nameHe: "Edge Cases",
        description: "Edge cases are tested",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "race_conditions",
        name: "Race Conditions",
        nameHe: "Race Conditions",
        description: "Race conditions tested",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "time_based_scenarios",
        name: "Time-Based Scenarios",
        nameHe: "Time-Based Scenarios",
        description: "Time-based logic tested",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "data_consistency_tests",
        name: "Data Consistency Tests",
        nameHe: "Data Consistency Tests",
        description: "Data consistency verified",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "chaos_testing",
        name: "Chaos Testing",
        nameHe: "Chaos Testing",
        description: "Chaos testing performed",
        descriptionHe: "",
        severity: "medium",
      },
    ],
  },
  {
    key: "reliability_resilience",
    name: "Reliability & Resilience",
    nameHe: "",
    icon: "üßØ",
    description: "System reliability and fault tolerance",
    items: [
      {
        key: "failure_isolation",
        name: "Failure Isolation",
        nameHe: "Failure Isolation",
        description: "Failures are isolated",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "graceful_degradation",
        name: "Graceful Degradation",
        nameHe: "Graceful Degradation",
        description: "System degrades gracefully",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "circuit_breakers",
        name: "Circuit Breakers",
        nameHe: "Circuit Breakers",
        description: "Circuit breakers implemented",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "retry_storm_prevention",
        name: "Retry Storm Prevention",
        nameHe: "Retry Storm Prevention",
        description: "Retry storms prevented",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "backpressure",
        name: "Backpressure",
        nameHe: "Backpressure",
        description: "Backpressure is handled",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "failover",
        name: "Failover",
        nameHe: "Failover",
        description: "Failover is configured",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "backup_strategy",
        name: "Backup Strategy",
        nameHe: "Backup Strategy",
        description: "Backups are configured",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "restore_testing",
        name: "Restore Testing",
        nameHe: "Restore Testing",
        description: "Restores are tested",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "disaster_recovery",
        name: "Disaster Recovery",
        nameHe: "Disaster Recovery",
        description: "DR plan exists",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "rto_rpo",
        name: "RTO / RPO",
        nameHe: "RTO / RPO",
        description: "RTO/RPO defined and tested",
        descriptionHe: "",
        severity: "high",
      },
    ],
  },
  {
    key: "versioning_lifecycle",
    name: "Versioning & Lifecycle",
    nameHe: "",
    icon: "üîÑ",
    description: "Version management and deprecation",
    items: [
      {
        key: "api_versioning",
        name: "API Versioning",
        nameHe: "API Versioning",
        description: "APIs are versioned",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "client_versioning",
        name: "Client Versioning",
        nameHe: "Client Versioning",
        description: "Client versions tracked",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "deprecation_policy",
        name: "Deprecation Policy",
        nameHe: "Deprecation Policy",
        description: "Deprecation policy exists",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "backward_support_window",
        name: "Backward Support Window",
        nameHe: "Backward Support Window",
        description: "Support window is defined",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "forced_upgrades",
        name: "Forced Upgrades",
        nameHe: "Forced Upgrades",
        description: "Forced upgrade path exists",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "feature_sunset",
        name: "Feature Sunset",
        nameHe: "Feature Sunset",
        description: "Feature sunset process exists",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "technical_debt_tracking",
        name: "Technical Debt Tracking",
        nameHe: "Technical Debt Tracking",
        description: "Technical debt is tracked",
        descriptionHe: "",
        severity: "medium",
      },
    ],
  },
  {
    key: "documentation",
    name: "Documentation",
    nameHe: "",
    icon: "üìö",
    description: "System documentation and knowledge base",
    items: [
      {
        key: "architecture_docs",
        name: "Architecture Docs",
        nameHe: "Architecture Docs",
        description: "Architecture is documented",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "api_docs",
        name: "API Docs",
        nameHe: "API Docs",
        description: "APIs are documented",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "data_model_docs",
        name: "Data Model Docs",
        nameHe: "Data Model Docs",
        description: "Data model documented",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "security_docs",
        name: "Security Docs",
        nameHe: "Security Docs",
        description: "Security is documented",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "runbooks",
        name: "Runbooks",
        nameHe: "Runbooks",
        description: "Runbooks exist",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "incident_playbooks",
        name: "Incident Playbooks",
        nameHe: "Incident Playbooks",
        description: "Incident playbooks exist",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "onboarding_docs",
        name: "Onboarding Docs",
        nameHe: "Onboarding Docs",
        description: "Onboarding docs exist",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "known_issues_registry",
        name: "Known Issues Registry",
        nameHe: "Known Issues Registry",
        description: "Known issues tracked",
        descriptionHe: "",
        severity: "medium",
      },
    ],
  },
  {
    key: "governance_quality",
    name: "Governance & Quality",
    nameHe: "",
    icon: "üß†",
    description: "Code quality and governance processes",
    items: [
      {
        key: "code_standards",
        name: "Code Standards",
        nameHe: "Code Standards",
        description: "Code standards enforced",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "review_process",
        name: "Review Process",
        nameHe: "Review Process",
        description: "Code review process exists",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "ownership_mapping",
        name: "Ownership Mapping",
        nameHe: "Ownership Mapping",
        description: "Code ownership is mapped",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "decision_records",
        name: "Decision Records (ADR)",
        nameHe: "Decision Records (ADR)",
        description: "ADRs are maintained",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "risk_register",
        name: "Risk Register",
        nameHe: "Risk Register",
        description: "Risk register maintained",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "compliance_readiness",
        name: "Compliance Readiness",
        nameHe: "Compliance Readiness",
        description: "Compliance requirements met",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "change_management",
        name: "Change Management",
        nameHe: "Change Management",
        description: "Change management process exists",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "release_notes",
        name: "Release Notes",
        nameHe: "Release Notes",
        description: "Release notes maintained",
        descriptionHe: "",
        severity: "medium",
      },
    ],
  },
  {
    key: "third_party_integrations",
    name: "Third-Party Integrations",
    nameHe: "",
    icon: "üß©",
    description: "External service dependencies and integration management",
    items: [
      {
        key: "dependency_criticality",
        name: "Dependency Criticality",
        nameHe: "",
        description: "Critical dependencies are identified and documented",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "sla_reliance",
        name: "SLA Reliance",
        nameHe: "",
        description: "Third-party SLAs meet system requirements",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "fallback_strategy",
        name: "Fallback Strategy",
        nameHe: "",
        description: "Fallback exists for critical integrations",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "api_quotas",
        name: "API Quotas",
        nameHe: "",
        description: "API quotas are monitored and managed",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "rate_limit_handling",
        name: "Rate Limit Handling",
        nameHe: "",
        description: "Rate limits are handled gracefully",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "third_party_version_drift",
        name: "Version Drift",
        nameHe: "",
        description: "Third-party API version changes are tracked",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "credential_rotation",
        name: "Credential Rotation",
        nameHe: "",
        description: "Third-party credentials are rotated regularly",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "sandbox_production_parity",
        name: "Sandbox vs Production Parity",
        nameHe: "",
        description: "Sandbox environment matches production behavior",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "webhook_reliability",
        name: "Webhook Reliability",
        nameHe: "",
        description: "Incoming webhooks are validated and handled reliably",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "third_party_failure_impact",
        name: "Third-Party Failure Impact",
        nameHe: "",
        description: "Impact of third-party failures is understood and mitigated",
        descriptionHe: "",
        severity: "critical",
      },
    ],
  },
  {
    key: "legal_compliance_privacy",
    name: "Legal / Compliance / Privacy",
    nameHe: "",
    icon: "üßæ",
    description: "Technical implementation of legal and privacy requirements",
    items: [
      {
        key: "data_classification",
        name: "Data Classification",
        nameHe: "",
        description: "Data is classified by sensitivity level",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "pii_handling",
        name: "PII Handling",
        nameHe: "",
        description: "Personally identifiable information is handled securely",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "data_minimization",
        name: "Data Minimization",
        nameHe: "",
        description: "Only necessary data is collected and stored",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "data_retention_policies",
        name: "Data Retention Policies",
        nameHe: "",
        description: "Data retention policies are implemented",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "right_to_be_forgotten",
        name: "Right to Be Forgotten",
        nameHe: "",
        description: "Users can request data deletion",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "consent_management",
        name: "Consent Management",
        nameHe: "",
        description: "User consent is tracked and respected",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "cookie_compliance",
        name: "Cookie Compliance",
        nameHe: "",
        description: "Cookie usage complies with regulations",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "cross_border_data_flow",
        name: "Cross-Border Data Flow",
        nameHe: "",
        description: "Cross-border data transfers are compliant",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "sensitive_data_logging",
        name: "Logging of Sensitive Data",
        nameHe: "",
        description: "Sensitive data is not logged inappropriately",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "compliance_gdpr_soc2",
        name: "Compliance Readiness (GDPR/SOC2/ISO)",
        nameHe: "",
        description: "System meets compliance framework requirements",
        descriptionHe: "",
        severity: "high",
      },
    ],
  },
  {
    key: "knowledge_bus_factor",
    name: "Knowledge & Bus Factor",
    nameHe: "",
    icon: "üß†",
    description: "Knowledge distribution and organizational resilience",
    items: [
      {
        key: "single_point_knowledge",
        name: "Single Point of Knowledge",
        nameHe: "",
        description: "No single person holds critical knowledge alone",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "code_ownership_clarity",
        name: "Code Ownership Clarity",
        nameHe: "",
        description: "Code ownership is clear and documented",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "documentation_freshness",
        name: "Documentation Freshness",
        nameHe: "",
        description: "Documentation is kept up-to-date",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "onboarding_time",
        name: "Onboarding Time",
        nameHe: "",
        description: "New team members can onboard efficiently",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "implicit_knowledge",
        name: "Implicit Knowledge",
        nameHe: "",
        description: "Implicit knowledge is documented",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "tribal_logic",
        name: "Tribal Logic",
        nameHe: "",
        description: "Tribal knowledge is captured and shared",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "handover_readiness",
        name: "Handover Readiness",
        nameHe: "",
        description: "Team can hand over responsibilities smoothly",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "external_dependency_individuals",
        name: "External Dependency on Individuals",
        nameHe: "",
        description: "No critical dependency on external individuals",
        descriptionHe: "",
        severity: "high",
      },
    ],
  },
  {
    key: "data_quality_correctness",
    name: "Data Quality & Correctness",
    nameHe: "",
    icon: "üß™",
    description: "Data integrity and accuracy validation",
    items: [
      {
        key: "data_validation_rules",
        name: "Data Validation Rules",
        nameHe: "",
        description: "Data validation rules are comprehensive",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "data_drift",
        name: "Data Drift",
        nameHe: "",
        description: "Data drift is monitored and detected",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "inconsistent_states",
        name: "Inconsistent States",
        nameHe: "",
        description: "Inconsistent data states are prevented/detected",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "duplicate_records",
        name: "Duplicate Records",
        nameHe: "",
        description: "Duplicate records are prevented/handled",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "race_conditions_data",
        name: "Race Conditions on Data",
        nameHe: "",
        description: "Race conditions on data are prevented",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "eventual_consistency",
        name: "Eventual Consistency Awareness",
        nameHe: "",
        description: "Eventual consistency implications are understood",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "reporting_accuracy",
        name: "Reporting Accuracy",
        nameHe: "",
        description: "Reports reflect actual data accurately",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "analytics_trustworthiness",
        name: "Analytics Trustworthiness",
        nameHe: "",
        description: "Analytics data can be trusted",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "metrics_reality_gaps",
        name: "Metrics vs Reality Gaps",
        nameHe: "",
        description: "Metrics accurately reflect reality",
        descriptionHe: "",
        severity: "medium",
      },
    ],
  },
  {
    key: "analytics_tracking",
    name: "Analytics & Tracking",
    nameHe: "",
    icon: "üìà",
    description: "Event tracking and analytics implementation",
    items: [
      {
        key: "event_naming_consistency",
        name: "Event Naming Consistency",
        nameHe: "",
        description: "Event names follow consistent conventions",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "event_ownership",
        name: "Event Ownership",
        nameHe: "",
        description: "Each event has clear ownership",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "missing_events",
        name: "Missing Events",
        nameHe: "",
        description: "No critical events are missing from tracking",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "double_tracking",
        name: "Double Tracking",
        nameHe: "",
        description: "Events are not tracked multiple times",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "client_vs_server_events",
        name: "Client vs Server Events",
        nameHe: "",
        description: "Client and server events are properly distinguished",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "attribution_accuracy",
        name: "Attribution Accuracy",
        nameHe: "",
        description: "Attribution is accurate and reliable",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "funnel_integrity",
        name: "Funnel Integrity",
        nameHe: "",
        description: "Funnels are complete and accurate",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "sampling_issues",
        name: "Sampling Issues",
        nameHe: "",
        description: "Sampling doesn't skew analytics",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "data_loss_scenarios",
        name: "Data Loss Scenarios",
        nameHe: "",
        description: "Data loss scenarios are mitigated",
        descriptionHe: "",
        severity: "high",
      },
    ],
  },
  {
    key: "incident_failure_management",
    name: "Incident & Failure Management",
    nameHe: "",
    icon: "üßØ",
    description: "Incident response and failure handling processes",
    items: [
      {
        key: "incident_detection",
        name: "Incident Detection",
        nameHe: "",
        description: "Incidents are detected promptly",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "incident_classification",
        name: "Incident Classification",
        nameHe: "",
        description: "Incidents are classified by severity",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "escalation_paths",
        name: "Escalation Paths",
        nameHe: "",
        description: "Clear escalation paths exist",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "on_call_readiness",
        name: "On-Call Readiness",
        nameHe: "",
        description: "On-call team is prepared and equipped",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "postmortem_process",
        name: "Postmortem Process",
        nameHe: "",
        description: "Postmortems are conducted after incidents",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "root_cause_analysis",
        name: "Root Cause Analysis",
        nameHe: "",
        description: "Root causes are thoroughly analyzed",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "repeat_incident_prevention",
        name: "Repeat Incident Prevention",
        nameHe: "",
        description: "Actions prevent repeat incidents",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "communication_during_incident",
        name: "Communication During Incident",
        nameHe: "",
        description: "Communication is clear during incidents",
        descriptionHe: "",
        severity: "high",
      },
    ],
  },
  {
    key: "human_error_resilience",
    name: "Human Error Resilience",
    nameHe: "",
    icon: "üß†",
    description: "Protection against human mistakes",
    items: [
      {
        key: "dangerous_defaults",
        name: "Dangerous Defaults",
        nameHe: "",
        description: "No dangerous default settings exist",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "admin_ux_safety",
        name: "Admin UX Safety",
        nameHe: "",
        description: "Admin interfaces prevent accidental damage",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "confirmation_flows",
        name: "Confirmation Flows",
        nameHe: "",
        description: "Destructive actions require confirmation",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "undo_rollback_ux",
        name: "Undo / Rollback UX",
        nameHe: "",
        description: "Users can undo or rollback actions",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "misconfiguration_prevention",
        name: "Misconfiguration Prevention",
        nameHe: "",
        description: "System prevents common misconfigurations",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "safe_guards",
        name: "Safe Guards",
        nameHe: "",
        description: "Safety guards protect against mistakes",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "blast_radius",
        name: "Rate of Blast Radius",
        nameHe: "",
        description: "Blast radius of changes is limited",
        descriptionHe: "",
        severity: "critical",
      },
    ],
  },
  {
    key: "migration_change_safety",
    name: "Migration & Change Safety",
    nameHe: "",
    icon: "ü™ú",
    description: "Safe migration and deployment practices",
    items: [
      {
        key: "schema_migration_safety",
        name: "Schema Migration Safety",
        nameHe: "",
        description: "Schema migrations are safe and reversible",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "backward_compat_migration",
        name: "Backward Compatibility During Migration",
        nameHe: "",
        description: "Migrations maintain backward compatibility",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "zero_downtime_migrations",
        name: "Zero-Downtime Migrations",
        nameHe: "",
        description: "Migrations don't cause downtime",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "feature_rollout_safety",
        name: "Feature Rollout Safety",
        nameHe: "",
        description: "Feature rollouts are gradual and safe",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "partial_rollback_scenarios",
        name: "Partial Rollback Scenarios",
        nameHe: "",
        description: "Partial rollbacks are possible",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "dark_launches",
        name: "Dark Launches",
        nameHe: "",
        description: "Dark launches are supported",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "kill_switches",
        name: "Kill Switches",
        nameHe: "",
        description: "Kill switches exist for critical features",
        descriptionHe: "",
        severity: "critical",
      },
    ],
  },
  {
    key: "vendor_stack_risk",
    name: "Vendor / Stack Risk",
    nameHe: "",
    icon: "üß±",
    description: "Technology stack and vendor risk management",
    items: [
      {
        key: "vendor_lock_in",
        name: "Vendor Lock-In",
        nameHe: "",
        description: "Vendor lock-in risks are assessed",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "end_of_life_dependencies",
        name: "End-of-Life Dependencies",
        nameHe: "",
        description: "EOL dependencies are identified",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "unsupported_libraries",
        name: "Unsupported Libraries",
        nameHe: "",
        description: "No unsupported libraries in use",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "license_risks",
        name: "License Risks",
        nameHe: "",
        description: "License risks are understood",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "community_health",
        name: "Community Health",
        nameHe: "",
        description: "Dependency communities are healthy",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "security_patch_cadence",
        name: "Security Patch Cadence",
        nameHe: "",
        description: "Security patches are applied promptly",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "upgrade_difficulty",
        name: "Upgrade Difficulty",
        nameHe: "",
        description: "Upgrade paths are manageable",
        descriptionHe: "",
        severity: "medium",
      },
    ],
  },
  {
    key: "strategic_tech_alignment",
    name: "Strategic Tech Alignment",
    nameHe: "",
    icon: "üß≠",
    description: "Technology decisions aligned with business goals",
    items: [
      {
        key: "product_vision_alignment",
        name: "Product Vision Alignment",
        nameHe: "",
        description: "Tech decisions align with product vision",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "over_engineering_detection",
        name: "Over-Engineering Detection",
        nameHe: "",
        description: "Over-engineering is identified and avoided",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "under_engineering_detection",
        name: "Under-Engineering Detection",
        nameHe: "",
        description: "Under-engineering is identified and addressed",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "tech_vs_business_priorities",
        name: "Tech vs Business Priorities",
        nameHe: "",
        description: "Tech and business priorities are balanced",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "roadmap_fit",
        name: "Roadmap Fit",
        nameHe: "",
        description: "Tech choices fit the product roadmap",
        descriptionHe: "",
        severity: "medium",
      },
      {
        key: "long_term_cost_curve",
        name: "Long-Term Cost Curve",
        nameHe: "",
        description: "Long-term costs are considered",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "build_vs_buy_decisions",
        name: "Build vs Buy Decisions",
        nameHe: "",
        description: "Build vs buy decisions are well-reasoned",
        descriptionHe: "",
        severity: "high",
      },
    ],
  },
  {
    key: "meta_quality",
    name: "Meta-Quality",
    nameHe: "",
    icon: "üß†",
    description: "Ability to measure and improve quality itself",
    items: [
      {
        key: "detect_own_failures",
        name: "Ability to Detect Own Failures",
        nameHe: "",
        description: "System can detect its own failures",
        descriptionHe: "",
        severity: "critical",
      },
      {
        key: "measure_quality",
        name: "Ability to Measure Quality",
        nameHe: "",
        description: "Quality metrics are measurable",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "improve_over_time",
        name: "Ability to Improve Over Time",
        nameHe: "",
        description: "System quality improves over time",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "feedback_loop_speed",
        name: "Feedback Loop Speed",
        nameHe: "",
        description: "Feedback loops are fast and effective",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "learning_from_production",
        name: "Learning from Production",
        nameHe: "",
        description: "Team learns from production incidents",
        descriptionHe: "",
        severity: "high",
      },
      {
        key: "adaptability_to_change",
        name: "Adaptability to Change",
        nameHe: "",
        description: "System adapts well to changes",
        descriptionHe: "",
        severity: "high",
      },
    ],
  },
];

export async function seedQaChecklist() {
  for (let catIdx = 0; catIdx < QA_CHECKLIST_DATA.length; catIdx++) {
    const categoryData = QA_CHECKLIST_DATA[catIdx];

    // Insert category
    const [category] = await db
      .insert(qaCategories)
      .values({
        key: categoryData.key,
        name: categoryData.name,
        nameHe: categoryData.nameHe,
        icon: categoryData.icon,
        description: categoryData.description,
        sortOrder: catIdx,
      } as any)
      .returning();

    // Insert items
    for (let itemIdx = 0; itemIdx < categoryData.items.length; itemIdx++) {
      const item = categoryData.items[itemIdx];

      await db.insert(qaChecklistItems).values({
        categoryId: category.id,
        key: item.key,
        name: item.name,
        nameHe: item.nameHe,
        description: item.description,
        descriptionHe: item.descriptionHe,
        severity: item.severity,
        checkGuidelines: item.checkGuidelines,
        sortOrder: itemIdx,
      } as any);
    }
  }
}
