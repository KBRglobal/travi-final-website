# ========================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# ========================================
# This file serves as a template for production environment variables.
# Copy this file to .env.production on your production server.
# CRITICAL: Ensure .env.production is NEVER committed to version control!

# ========================================
# SECURITY REQUIREMENTS FOR PRODUCTION
# ========================================
# 1. Use strong, randomly generated passwords and API keys
# 2. Enable SSL/TLS for all external connections (database, Redis, S3)
# 3. Use environment-specific credentials (never reuse dev credentials)
# 4. Rotate credentials regularly (at least every 90 days)
# 5. Use secrets management systems (AWS Secrets Manager, HashiCorp Vault, etc.)
# 6. Enable audit logging for all sensitive operations
# 7. Restrict database access to application servers only
# 8. Use read replicas for database scaling if needed

# ========================================
# DATABASE (REQUIRED)
# ========================================
# PostgreSQL connection string with SSL enabled
# Format: postgresql://username:password@host:port/database?sslmode=require
# SECURITY: Use strong passwords (min 32 chars, alphanumeric + symbols)
# SECURITY: Enable SSL mode (sslmode=require or sslmode=verify-full)
# SECURITY: Use connection pooling to prevent connection exhaustion
DATABASE_URL=postgresql://prod_user:STRONG_PASSWORD_HERE@prod-db-host:5432/traviapp?sslmode=require

# ========================================
# SERVER CONFIGURATION (REQUIRED)
# ========================================
# Port the server will listen on
# Must match your firewall and load balancer configuration
PORT=5000

# Node environment - MUST be 'production' in production
# This enables production optimizations and disables verbose error messages
NODE_ENV=production

# ========================================
# AUTHENTICATION & ADMIN (REQUIRED)
# ========================================
# Admin dashboard credentials
# SECURITY: Use a unique username (not 'admin')
ADMIN_USERNAME=your_unique_admin_username

# Bcrypt hashed admin password
# SECURITY: Use a strong password (min 20 chars, mixed case, numbers, symbols)
# Generate with: node -e "console.log(require('bcrypt').hashSync('YOUR-STRONG-PASSWORD', 12))"
# Note: Production should use cost factor 12 (not 10) for stronger hashing
ADMIN_PASSWORD_HASH=$2b$12$HASH_WILL_BE_HERE_AFTER_GENERATION

# ========================================
# AI SERVICES (At least one required)
# ========================================
# OpenAI API key for content generation
# Get from: https://platform.openai.com/api-keys
# SECURITY: Use a production-only API key with usage limits and monitoring
# SECURITY: Enable usage alerts to detect anomalous consumption
OPENAI_API_KEY=sk-proj-PRODUCTION_KEY_HERE

# Anthropic API key for premium content generation
# Get from: https://console.anthropic.com/
# SECURITY: Use separate keys for different environments
ANTHROPIC_API_KEY=sk-ant-PRODUCTION_KEY_HERE

# Optional: Custom OpenAI base URL (for proxies or alternative providers)
# Leave empty for standard OpenAI API
AI_INTEGRATIONS_OPENAI_BASE_URL=

# Optional: Separate OpenAI key for AI integrations
AI_INTEGRATIONS_OPENAI_API_KEY=

# ========================================
# EMAIL SERVICES (RECOMMENDED)
# ========================================
# Resend API key for transactional emails
# Get from: https://resend.com/api-keys
# SECURITY: Use production domain with verified DNS records (SPF, DKIM, DMARC)
RESEND_API_KEY=re_PRODUCTION_KEY_HERE

# Email address to receive lead notifications
# Use a monitored production email address
LEAD_NOTIFICATION_EMAIL=leads@your-production-domain.com

# ========================================
# CACHING - REDIS (STRONGLY RECOMMENDED)
# ========================================
# Upstash Redis for distributed caching
# Get from: https://console.upstash.com/
# PRODUCTION: Redis is REQUIRED for multi-instance deployments
# SECURITY: Use TLS-enabled Redis endpoints
# PERFORMANCE: Configure eviction policies and max memory limits
UPSTASH_REDIS_REST_URL=https://your-redis-endpoint.upstash.io
UPSTASH_REDIS_REST_TOKEN=YOUR_REDIS_TOKEN_HERE

# ========================================
# OBJECT STORAGE - S3 (REQUIRED)
# ========================================
# S3 bucket configuration for file uploads and media storage
# SECURITY: Use IAM roles with least-privilege access
# SECURITY: Enable bucket versioning and lifecycle policies
# SECURITY: Configure CORS policies to restrict access

# Bucket name for storing uploaded files
# Use a production-specific bucket
S3_BUCKET_NAME=traviapp-prod

# AWS region or 'auto' for Cloudflare R2
S3_REGION=us-east-1

# S3 endpoint (required for non-AWS providers)
# AWS S3: leave empty or use https://s3.amazonaws.com
# Cloudflare R2: https://<account-id>.r2.cloudflarestorage.com
# SECURITY: Use HTTPS endpoints only
S3_ENDPOINT=

# S3 access credentials
# SECURITY: Use IAM user with restricted permissions (s3:PutObject, s3:GetObject only)
# SECURITY: Rotate credentials every 90 days
S3_ACCESS_KEY_ID=YOUR_ACCESS_KEY_ID
S3_SECRET_ACCESS_KEY=YOUR_SECRET_ACCESS_KEY

# ========================================
# IMAGE GENERATION SERVICES (OPTIONAL)
# ========================================
# Replicate API key for AI image generation
# Get from: https://replicate.com/account/api-tokens
# COST: Monitor usage as image generation can be expensive
REPLICATE_API_KEY=r8_PRODUCTION_KEY_HERE

# Freepik API key for stock image search
# Get from: https://www.freepik.com/api
FREEPIK_API_KEY=YOUR_FREEPIK_KEY_HERE

# ========================================
# TRANSLATION SERVICES (OPTIONAL)
# ========================================
# DeepL API key for content translation
# Get from: https://www.deepl.com/pro-api
# COST: Monitor usage and set monthly limits
DEEPL_API_KEY=YOUR_DEEPL_KEY_HERE

# ========================================
# ANALYTICS (RECOMMENDED)
# ========================================
# PostHog API key for product analytics
# Get from: https://posthog.com/
# PRIVACY: Ensure compliance with GDPR/CCPA if tracking EU/CA users
# PRIVACY: Configure data retention policies
POSTHOG_API_KEY=phc_PRODUCTION_KEY_HERE

# ========================================
# MAPS & GEOLOCATION (OPTIONAL)
# ========================================
# Google Maps API key for map embeds
# Get from: https://console.cloud.google.com/
# SECURITY: Restrict API key to your production domain only
# SECURITY: Enable billing alerts to prevent unexpected charges
# Note: Uses VITE_ prefix to be accessible in frontend
VITE_GOOGLE_MAPS_API_KEY=YOUR_GOOGLE_MAPS_KEY_HERE

# ========================================
# SEO & INDEXING (OPTIONAL)
# ========================================
# IndexNow API key for instant URL submission to Bing/Yandex
# Get from: https://www.indexnow.org/
# SECURITY: Set via Replit Secrets panel, do NOT hardcode
INDEXNOW_API_KEY=YOUR_INDEXNOW_KEY_HERE

# ========================================
# APPLICATION SETTINGS (REQUIRED)
# ========================================
# Base URL of your production application
# Used for: sitemap generation, canonical URLs, email links
# MUST use HTTPS in production
APP_URL=https://travi.world

# ========================================
# PRODUCTION DEPLOYMENT CHECKLIST
# ========================================
# Before deploying to production, ensure you have:
#
# [ ] Changed all credentials from development/example values
# [ ] Generated strong admin password hash (bcrypt cost 12+)
# [ ] Configured DATABASE_URL with SSL mode enabled
# [ ] Set up Redis for distributed caching (if running multiple instances)
# [ ] Configured S3 bucket with proper CORS and lifecycle policies
# [ ] Set up email service with verified domain and DNS records
# [ ] Restricted API keys to production domains/IPs where possible
# [ ] Enabled monitoring and alerting for all external services
# [ ] Configured backup and disaster recovery procedures
# [ ] Set up log aggregation and error tracking (e.g., Sentry)
# [ ] Tested all integrations in staging environment first
# [ ] Documented credential rotation procedures
# [ ] Set up automated security scanning and dependency updates
# [ ] Configured rate limiting and DDoS protection
# [ ] Enabled HTTPS/TLS for all connections
# [ ] Set up database connection pooling and read replicas if needed
#
# SECURITY CONTACTS:
# - Security issues: security@your-domain.com
# - On-call engineer: oncall@your-domain.com
#
# COMPLIANCE:
# - Review privacy policy and terms of service
# - Ensure GDPR compliance if serving EU users
# - Configure data retention and deletion policies
# - Document data processing activities (Article 30 GDPR)
