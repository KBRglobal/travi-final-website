/* TRAVI Brand Fonts - Self-hosted */
/* Chillax Variable - Headlines only */
@font-face {
  font-family: "Chillax";
  src: url("/fonts/Chillax-Variable_1767041885348.ttf") format("truetype");
  font-weight: 100 900;
  font-style: normal;
  font-display: swap;
}

/* Satoshi - Body text, UI, navigation */
@font-face {
  font-family: "Satoshi";
  src: url("/fonts/Satoshi-Regular_1767041885349.ttf") format("truetype");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Satoshi";
  src: url("/fonts/Satoshi-Medium_1767041885349.ttf") format("truetype");
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Satoshi";
  src: url("/fonts/Satoshi-Bold_1767041885349.ttf") format("truetype");
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Skip Link - Accessibility */
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: #000;
  color: #fff;
  padding: 8px 16px;
  z-index: 9999;
  text-decoration: none;
  transition: top 0.2s;
}
.skip-link:focus {
  top: 0;
}

/* TRAVI Global Typography & Background */
@layer base {
  html,
  body {
    height: 100%;
    width: 100%;
    margin: 0;
    padding: 0;
  }

  html {
    font-family: "Satoshi";
    background-color: #d4e6f0;
  }

  body {
    font-family: "Satoshi";
    background-color: transparent;
    margin: 0;
    padding: 0;
  }

  #root {
    min-height: 100vh;
    width: 100%;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: "Chillax";
  }
}

/* TRAVI Design System - Light Mode */
:root {
  --button-outline: rgba(36, 16, 62, 0.3);
  --badge-outline: rgba(36, 16, 62, 0.1);
  --opaque-button-border-intensity: -8;
  --elevate-1: rgba(36, 16, 62, 0.06);
  --elevate-2: rgba(36, 16, 62, 0.12);

  /* Official Brand Color Tokens (definition only - controlled usage via CMS) */
  --color-background-base: 0 0% 100%; /* White for cards */
  --color-primary: 251 89% 61%;
  --color-secondary: 48 98% 52%;
  --color-accent: 251 89% 61%;

  /* TRAVI Brand Colors - from brand palette */
  --travi-purple: 251 89% 61%; /* #6443F4 - Primary brand purple */
  /* --travi-pink: DEPRECATED - Use --travi-purple instead */
  --travi-yellow: 44 88% 61%; /* #F4C542 - Warm golden yellow */
  --travi-green: 153 98% 33%; /* Keep existing green */

  /* Legacy - mapped to new palette */
  --travi-orange: 44 88% 61%; /* Now uses yellow */

  /* TRAVI Neutrals */
  --travi-neutral-black: 270 30% 10%;
  --travi-neutral-gray-100: 269 61% 15%;
  --travi-neutral-gray-75: 264 23% 33%;
  --travi-neutral-gray-50: 270 10% 66%;
  --travi-neutral-gray-25: 272 11% 83%;

  /* Core Semantic Colors */
  --background: 0 0% 100%; /* White - sits on top of background image */
  --foreground: 269 61% 15%;
  --border: 272 11% 83%;

  /* Card */
  --card: 0 0% 100%; /* White */
  --card-foreground: 269 61% 15%;
  --card-border: 272 11% 88%;

  /* Sidebar */
  --sidebar: 0 0% 98%;
  --sidebar-foreground: 269 61% 15%;
  --sidebar-border: 272 11% 90%;
  --sidebar-primary: 251 89% 61%;
  --sidebar-primary-foreground: 0 0% 100%;
  --sidebar-accent: 251 60% 96%;
  --sidebar-accent-foreground: 269 61% 15%;
  --sidebar-ring: 251 89% 61%;

  /* Popover */
  --popover: 0 0% 100%;
  --popover-foreground: 269 61% 15%;
  --popover-border: 272 11% 85%;

  /* Primary - TRAVI Purple (Main CTA color #6443F4) */
  --primary: 251 89% 61%;
  --primary-foreground: 0 0% 100%;

  /* Brand Purple - for links and secondary elements */
  --brand-purple: 251 89% 61%;
  --brand-purple-foreground: 0 0% 100%;

  /* Brand Yellow - for warm accents */
  --brand-yellow: 44 88% 61%;
  --brand-yellow-foreground: 269 61% 15%;

  /* Legacy orange - mapped to yellow */
  --brand-orange: 44 88% 61%;
  --brand-orange-foreground: 269 61% 15%;

  /* Secondary */
  --secondary: 270 10% 94%;
  --secondary-foreground: 269 61% 15%;

  /* Muted */
  --muted: 270 8% 92%;
  --muted-foreground: 264 23% 40%;

  /* Accent - Purple tint */
  --accent: 251 60% 96%;
  --accent-foreground: 269 61% 15%;

  /* Destructive - Red for errors */
  --destructive: 0 84% 60%;
  --destructive-foreground: 0 0% 100%;

  /* Input */
  --input: 272 11% 75%;
  --ring: hsl(var(--color-accent));

  /* Chart colors using TRAVI palette */
  --chart-1: 272 38% 47%;
  --chart-2: 153 98% 40%;
  --chart-3: 44 88% 55%;
  --chart-4: 251 89% 61%;
  --chart-5: 44 88% 65%;

  /* Typography - TRAVI Brand Fonts */
  --font-sans: "Satoshi";
  --font-heading: "Chillax";
  --font-mono: JetBrains Mono, monospace;

  /* TRAVI Spacing */
  --radius: 0.75rem;
  --radius-sm: 0.5rem;
  --radius-lg: 1rem;
  --radius-full: 999px;

  /* TRAVI Shadows */
  --shadow-level-1: 0px 2px 4px rgba(0, 0, 0, 0.06);
  --shadow-level-2: 0px 4px 12px rgba(0, 0, 0, 0.1);
  --shadow-level-3: 0px 6px 20px rgba(0, 0, 0, 0.14);

  --shadow-2xs: 0px 2px 4px rgba(0, 0, 0, 0.04);
  --shadow-xs: 0px 2px 4px rgba(0, 0, 0, 0.06);
  --shadow-sm: 0px 2px 6px rgba(0, 0, 0, 0.08);
  --shadow: 0px 4px 12px rgba(0, 0, 0, 0.1);
  --shadow-md: 0px 4px 12px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0px 6px 20px rgba(0, 0, 0, 0.14);
  --shadow-xl: 0px 8px 28px rgba(0, 0, 0, 0.18);
  --shadow-2xl: 0px 12px 40px rgba(0, 0, 0, 0.22);

  --tracking-normal: 0em;
  --spacing: 0.25rem;

  /* Border color calculations */
  --sidebar-primary-border: hsl(var(--sidebar-primary));
  --sidebar-accent-border: hsl(var(--sidebar-accent));
  --primary-border: hsl(var(--primary));
  --secondary-border: hsl(var(--secondary));
  --muted-border: hsl(var(--muted));
  --accent-border: hsl(var(--accent));
  --destructive-border: hsl(var(--destructive));

  /* Admin Design System Tokens - Opaque surfaces, 4px grid, 6px radius */
  --admin-bg: 0 0% 97%;
  --admin-surface: 0 0% 100%;
  --admin-surface-elevated: 0 0% 100%;
  --admin-border: 0 0% 88%;
  --admin-border-subtle: 0 0% 92%;
  --admin-text: 0 0% 10%;
  --admin-text-muted: 0 0% 45%;
  --admin-text-subtle: 0 0% 60%;
  --admin-radius: 6px;
  --admin-spacing-xs: 4px;
  --admin-spacing-sm: 8px;
  --admin-spacing-md: 16px;
  --admin-spacing-lg: 24px;
  --admin-spacing-xl: 32px;
  --admin-header-height: 64px;
  --admin-sidebar-width: 240px;
}

/* TRAVI Design System - Dark Mode */
.dark {
  --button-outline: rgba(255, 255, 255, 0.15);
  --badge-outline: rgba(255, 255, 255, 0.08);
  --opaque-button-border-intensity: 9;
  --elevate-1: rgba(255, 255, 255, 0.06);
  --elevate-2: rgba(255, 255, 255, 0.12);

  --background: 269 61% 8%;
  --foreground: 0 0% 98%;
  --border: 269 30% 18%;

  --card: 269 50% 10%;
  --card-foreground: 0 0% 98%;
  --card-border: 269 30% 14%;

  --sidebar: 269 60% 6%;
  --sidebar-foreground: 0 0% 98%;
  --sidebar-border: 269 30% 12%;
  --sidebar-primary: 251 89% 66%;
  --sidebar-primary-foreground: 0 0% 100%;
  --sidebar-accent: 251 40% 18%;
  --sidebar-accent-foreground: 0 0% 98%;
  --sidebar-ring: 251 89% 66%;

  --popover: 269 50% 12%;
  --popover-foreground: 0 0% 98%;
  --popover-border: 269 30% 16%;

  --primary: 251 89% 66%;
  --primary-foreground: 0 0% 100%;

  --brand-purple: 251 89% 66%;
  --brand-purple-foreground: 0 0% 100%;

  --brand-yellow: 44 88% 65%;
  --brand-yellow-foreground: 269 61% 15%;

  --brand-orange: 44 88% 65%;
  --brand-orange-foreground: 0 0% 100%;

  --secondary: 269 30% 18%;
  --secondary-foreground: 0 0% 98%;

  --muted: 269 25% 14%;
  --muted-foreground: 270 10% 66%;

  --accent: 251 40% 20%;
  --accent-foreground: 0 0% 98%;

  --destructive: 0 84% 65%;
  --destructive-foreground: 0 0% 100%;

  --input: 269 30% 28%;
  --ring: hsl(var(--color-accent));

  --chart-1: 272 38% 55%;
  --chart-2: 153 80% 55%;
  --chart-3: 44 88% 60%;
  --chart-4: 251 89% 66%;
  --chart-5: 44 88% 70%;

  --shadow-level-1: 0px 2px 4px rgba(0, 0, 0, 0.2);
  --shadow-level-2: 0px 4px 12px rgba(0, 0, 0, 0.3);
  --shadow-level-3: 0px 6px 20px rgba(0, 0, 0, 0.4);

  --shadow-2xs: 0px 2px 4px rgba(0, 0, 0, 0.15);
  --shadow-xs: 0px 2px 4px rgba(0, 0, 0, 0.2);
  --shadow-sm: 0px 2px 6px rgba(0, 0, 0, 0.25);
  --shadow: 0px 4px 12px rgba(0, 0, 0, 0.3);
  --shadow-md: 0px 4px 12px rgba(0, 0, 0, 0.3);
  --shadow-lg: 0px 6px 20px rgba(0, 0, 0, 0.4);
  --shadow-xl: 0px 8px 28px rgba(0, 0, 0, 0.5);
  --shadow-2xl: 0px 12px 40px rgba(0, 0, 0, 0.6);

  --sidebar-primary-border: hsl(var(--sidebar-primary));
  --sidebar-accent-border: hsl(var(--sidebar-accent));
  --primary-border: hsl(var(--primary));
  --secondary-border: hsl(var(--secondary));
  --muted-border: hsl(var(--muted));
  --accent-border: hsl(var(--accent));
  --destructive-border: hsl(var(--destructive));

  /* Admin Design System Tokens (Dark Mode) */
  --admin-bg: 269 40% 6%;
  --admin-surface: 269 35% 10%;
  --admin-surface-elevated: 269 30% 14%;
  --admin-border: 269 25% 18%;
  --admin-border-subtle: 269 20% 14%;
  --admin-text: 0 0% 95%;
  --admin-text-muted: 0 0% 60%;
  --admin-text-subtle: 0 0% 45%;
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased text-foreground;
    background-color: transparent;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: var(--font-heading);
  }
}

/* TRAVI Status Badge Colors */
.badge-success {
  @apply bg-emerald-100 text-emerald-800 dark:bg-emerald-900/40 dark:text-emerald-300;
}

.badge-warning {
  @apply bg-amber-100 text-amber-800 dark:bg-amber-900/40 dark:text-amber-300;
}

.badge-danger {
  @apply bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-300;
}

.badge-info {
  @apply bg-sky-100 text-sky-800 dark:bg-sky-900/40 dark:text-sky-300;
}

/* TRAVI Navigation Active State */
.nav-item-active {
  @apply bg-travi-purple/10 dark:bg-travi-purple/20;
}

.nav-item-active-icon {
  color: hsl(var(--travi-purple));
}

/* TRAVI Brand Gradients - DISABLED (NO GRADIENTS except SubtleSkyBackground)
.brand-gradient {
  background: linear-gradient(135deg, #6443F4 0%, #7C5DF7 50%, #9577FA 100%);
}

.brand-gradient-vertical {
  background: linear-gradient(180deg, #6443F4 0%, #7C5DF7 50%, #9577FA 100%);
}

.brand-gradient-soft {
  background: linear-gradient(135deg, rgba(100, 67, 244, 0.9) 0%, rgba(124, 93, 247, 0.9) 50%, rgba(149, 119, 250, 0.9) 100%);
}

.brand-gradient-text {
  background: linear-gradient(135deg, #6443F4 0%, #7C5DF7 50%, #9577FA 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
*/

/* Brand Gold Text */
.text-brand-gold {
  color: #facc15;
}

/* Subtle noise texture overlay */
.noise-texture::before {
  content: "";
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.04'/%3E%3C/svg%3E");
  pointer-events: none;
  z-index: 1;
}

/**
 * Using the elevate system.
 * Automatic contrast adjustment.
 */
@layer utilities {
  input[type="search"]::-webkit-search-cancel-button {
    @apply hidden;
  }

  [contenteditable][data-placeholder]:empty::before {
    content: attr(data-placeholder);
    color: hsl(var(--muted-foreground));
    pointer-events: none;
  }

  .no-default-hover-elevate {
  }
  .no-default-active-elevate {
  }

  .toggle-elevate::before,
  .toggle-elevate-2::before {
    content: "";
    pointer-events: none;
    position: absolute;
    inset: 0px;
    border-radius: inherit;
    z-index: -1;
  }

  .toggle-elevate.toggle-elevated::before {
    background-color: var(--elevate-2);
  }

  .border.toggle-elevate::before {
    inset: -1px;
  }

  .hover-elevate:not(.no-default-hover-elevate),
  .active-elevate:not(.no-default-active-elevate),
  .hover-elevate-2:not(.no-default-hover-elevate),
  .active-elevate-2:not(.no-default-active-elevate) {
    position: relative;
    z-index: 0;
  }

  .hover-elevate:not(.no-default-hover-elevate)::after,
  .active-elevate:not(.no-default-active-elevate)::after,
  .hover-elevate-2:not(.no-default-hover-elevate)::after,
  .active-elevate-2:not(.no-default-active-elevate)::after {
    content: "";
    pointer-events: none;
    position: absolute;
    inset: 0px;
    border-radius: inherit;
    z-index: 999;
  }

  .hover-elevate:hover:not(.no-default-hover-elevate)::after,
  .active-elevate:active:not(.no-default-active-elevate)::after {
    background-color: var(--elevate-1);
  }

  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,
  .active-elevate-2:active:not(.no-default-active-elevate)::after {
    background-color: var(--elevate-2);
  }

  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,
  .border.active-elevate:not(.no-active-interaction-elevate)::after,
  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,
  .border.active-elevate-2:not(.no-active-interaction-elevate)::after {
    inset: -1px;
  }
}

/* =============================================================================
   Accessibility: Skip Link & Focus Styles
   ============================================================================= */

.skip-link:focus {
  position: fixed !important;
  width: auto !important;
  height: auto !important;
  padding: 0.5rem 1rem !important;
  margin: 0 !important;
  overflow: visible !important;
  clip: auto !important;
  white-space: nowrap !important;
}

*:focus-visible {
  outline: 2px solid hsl(var(--ring));
  outline-offset: 2px;
}

button:focus-visible,
a:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible,
[tabindex]:focus-visible {
  outline: 2px solid hsl(var(--ring));
  outline-offset: 2px;
}

/* =============================================================================
   RTL (Right-to-Left) Language Support
   Applies to Arabic (ar), Hebrew (he), Persian (fa), Urdu (ur)
   ============================================================================= */

/* Flip text alignment for RTL */
[dir="rtl"] {
  text-align: right;
}

/* Flip margins and paddings for common layout patterns */
[dir="rtl"] .ml-auto {
  margin-left: 0;
  margin-right: auto;
}
[dir="rtl"] .mr-auto {
  margin-right: 0;
  margin-left: auto;
}

/* Flip flex direction for horizontal layouts */
[dir="rtl"] .rtl-flip {
  flex-direction: row-reverse;
}

/* Flip icons that indicate direction */
[dir="rtl"] .rtl-flip-icon {
  transform: scaleX(-1);
}

/* Sidebar RTL adjustments */
[dir="rtl"] .sidebar-content {
  text-align: right;
}

/* Navigation RTL adjustments */
[dir="rtl"] nav ul {
  padding-right: 0;
}

/* Form inputs RTL */
[dir="rtl"] input,
[dir="rtl"] textarea,
[dir="rtl"] select {
  text-align: right;
}

/* Table RTL adjustments */
[dir="rtl"] table {
  direction: rtl;
}

[dir="rtl"] th,
[dir="rtl"] td {
  text-align: right;
}

/* Lists RTL */
[dir="rtl"] ul,
[dir="rtl"] ol {
  padding-right: 1.5rem;
  padding-left: 0;
}

/* Breadcrumbs RTL */
[dir="rtl"] .breadcrumb-separator {
  transform: scaleX(-1);
}

/* Search input with icon */
[dir="rtl"] .search-input-wrapper .search-icon {
  left: auto;
  right: 0.75rem;
}

[dir="rtl"] .search-input-wrapper input {
  padding-left: 0.75rem;
  padding-right: 2.5rem;
}

/* Card content alignment */
[dir="rtl"] .card-content {
  text-align: right;
}

/* Badge position adjustments */
[dir="rtl"] .badge-top-right {
  right: auto;
  left: 0.5rem;
}

[dir="rtl"] .badge-top-left {
  left: auto;
  right: 0.5rem;
}

/* Dialog close button position */
[dir="rtl"] .dialog-close-btn {
  right: auto;
  left: 1rem;
}

/* Progress bar RTL - flip direction */
[dir="rtl"] .progress-bar {
  direction: rtl;
}

/* Slider RTL */
[dir="rtl"] .slider-track {
  direction: rtl;
}

/* Tooltip arrow position */
[dir="rtl"] .tooltip-arrow-left {
  left: auto;
  right: -0.25rem;
}

[dir="rtl"] .tooltip-arrow-right {
  right: auto;
  left: -0.25rem;
}

/* Star ratings RTL */
[dir="rtl"] .star-rating {
  direction: ltr;
  display: inline-flex;
}

/* Price display RTL - keep numbers LTR */
[dir="rtl"] .price-display {
  direction: ltr;
  display: inline-block;
}

/* Phone numbers - keep LTR */
[dir="rtl"] .phone-number {
  direction: ltr;
  unicode-bidi: embed;
}

/* Email addresses - keep LTR */
[dir="rtl"] .email-address {
  direction: ltr;
  unicode-bidi: embed;
}

/* URLs - keep LTR */
[dir="rtl"] .url-display {
  direction: ltr;
  unicode-bidi: embed;
}

/* MapLibre GL Popup Styles */
.maplibregl-popup {
  z-index: 50;
}

.maplibregl-popup-content {
  padding: 0;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
  border: 1px solid hsl(var(--border));
  background: hsl(var(--background));
}

.maplibregl-popup-close-button {
  display: none;
}

.maplibregl-popup-anchor-bottom .maplibregl-popup-tip {
  border-top-color: hsl(var(--background));
}

.maplibregl-popup-anchor-top .maplibregl-popup-tip {
  border-bottom-color: hsl(var(--background));
}

.maplibregl-popup-anchor-left .maplibregl-popup-tip {
  border-right-color: hsl(var(--background));
}

.maplibregl-popup-anchor-right .maplibregl-popup-tip {
  border-left-color: hsl(var(--background));
}

.maplibregl-ctrl-group {
  background: hsl(var(--background)) !important;
  border-radius: 8px !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
}

.maplibregl-ctrl-group button {
  width: 32px !important;
  height: 32px !important;
}

.maplibregl-ctrl-group button:hover {
  background-color: hsl(var(--accent)) !important;
}

.maplibregl-ctrl-attrib-inner {
  font-size: 10px;
  color: hsl(var(--muted-foreground));
}

.dark .maplibregl-popup-content {
  background: hsl(var(--background));
  border-color: hsl(var(--border));
}

.dark .maplibregl-ctrl-group {
  background: hsl(var(--background)) !important;
}

/* =============================================================================
   Shared Animations
   Keyframes used across multiple page/component hero sections.
   ============================================================================= */

@keyframes gradient-flow {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

@keyframes rotate-slow {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

@keyframes morph {
  0%,
  100% {
    border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
  }
  50% {
    border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%;
  }
}

.rotate-slow {
  animation: rotate-slow 20s linear infinite;
}

.morph-blob {
  animation: morph 8s ease-in-out infinite;
}

/* =============================================================================
   Reduced Motion: respect prefers-reduced-motion for accessibility
   ============================================================================= */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
