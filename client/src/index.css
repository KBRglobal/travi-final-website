/* TRAVI Brand Fonts - Self-hosted (WOFF2 with TTF fallback) */
/* Chillax Variable - Headlines only */
@font-face {
  font-family: "Chillax";
  src:
    url("/fonts/Chillax-Variable_1767041885348.woff2") format("woff2"),
    url("/fonts/Chillax-Variable_1767041885348.ttf") format("truetype");
  font-weight: 100 900;
  font-style: normal;
  font-display: swap;
}

/* Satoshi - Body text, UI, navigation */
@font-face {
  font-family: "Satoshi";
  src:
    url("/fonts/Satoshi-Regular_1767041885349.woff2") format("woff2"),
    url("/fonts/Satoshi-Regular_1767041885349.ttf") format("truetype");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Satoshi";
  src:
    url("/fonts/Satoshi-Medium_1767041885349.woff2") format("woff2"),
    url("/fonts/Satoshi-Medium_1767041885349.ttf") format("truetype");
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Satoshi";
  src:
    url("/fonts/Satoshi-Bold_1767041885349.woff2") format("woff2"),
    url("/fonts/Satoshi-Bold_1767041885349.ttf") format("truetype");
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Skip Link - Accessibility */
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: #000;
  color: #fff;
  padding: 8px 16px;
  z-index: 9999;
  text-decoration: none;
  transition: top 0.2s;
}
.skip-link:focus {
  top: 0;
}

/* TRAVI Global Typography & Background */
@layer base {
  html,
  body {
    height: 100%;
    width: 100%;
    margin: 0;
    padding: 0;
  }

  html {
    font-family: "Satoshi";
    background-color: #f7f3ec;
  }

  body {
    font-family: "Satoshi";
    background-color: transparent;
    margin: 0;
    padding: 0;
  }

  #root {
    min-height: 100vh;
    width: 100%;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: "Chillax";
  }
}

/* TRAVI Design System - Light Mode — Warm, Cinematic, Editorial */
:root {
  /* Brand Colors — Warm, Travel, Cinematic */
  --travi-terracotta: 15 72% 55%; /* #D4704A - warm earth, Moroccan clay */
  --travi-amber: 36 90% 55%; /* #E8A020 - golden hour, souks */
  --travi-olive: 150 25% 40%; /* #4D8066 - Mediterranean gardens */
  --travi-teal: 185 55% 35%; /* #28808C - Aegean sea */
  --travi-sand: 38 35% 85%; /* #DDD4C4 - desert sand */
  --travi-cream: 40 40% 95%; /* #F7F3EC - warm off-white */

  /* Core Semantic */
  --background: 40 30% 98%; /* Warm off-white, NOT pure white */
  --foreground: 25 20% 15%; /* Warm charcoal, NOT pure black */
  --border: 35 15% 85%; /* Warm gray border */

  --card: 40 25% 99%; /* Slightly warm white */
  --card-foreground: 25 20% 15%;
  --card-border: 35 15% 88%;

  --popover: 40 25% 99%;
  --popover-foreground: 25 20% 15%;
  --popover-border: 35 15% 85%;

  /* Primary — Terracotta (main CTA, booking buttons) */
  --primary: 15 72% 55%; /* Terracotta */
  --primary-foreground: 40 40% 98%; /* Cream white */

  /* Secondary — Olive (secondary actions) */
  --secondary: 150 15% 93%; /* Very light olive tint */
  --secondary-foreground: 150 25% 30%;

  /* Muted */
  --muted: 35 12% 92%; /* Warm light gray */
  --muted-foreground: 25 10% 45%; /* Warm medium gray */

  /* Accent — Amber (highlights, badges) */
  --accent: 36 85% 95%; /* Light amber tint */
  --accent-foreground: 36 70% 30%; /* Deep amber */

  /* Destructive */
  --destructive: 0 72% 55%;
  --destructive-foreground: 0 0% 100%;

  /* Input */
  --input: 35 15% 78%;
  --ring: 15 72% 55%; /* Terracotta ring */

  /* Chart colors — warm palette */
  --chart-1: 15 72% 55%; /* Terracotta */
  --chart-2: 150 25% 40%; /* Olive */
  --chart-3: 36 90% 55%; /* Amber */
  --chart-4: 185 55% 35%; /* Teal */
  --chart-5: 25 60% 65%; /* Warm copper */

  /* Sidebar */
  --sidebar: 35 20% 97%;
  --sidebar-foreground: 25 20% 15%;
  --sidebar-border: 35 15% 90%;
  --sidebar-primary: 15 72% 55%;
  --sidebar-primary-foreground: 40 40% 98%;
  --sidebar-accent: 36 50% 95%;
  --sidebar-accent-foreground: 25 20% 15%;
  --sidebar-ring: 15 72% 55%;

  /* Legacy compatibility */
  --color-primary: 15 72% 55%;
  --color-secondary: 36 90% 55%;
  --color-accent: 15 72% 55%;
  --color-background-base: 40 25% 99%;

  /* Brand colors — mapped for backward compatibility */
  --brand-purple: 15 72% 55%; /* Now terracotta */
  --brand-purple-foreground: 40 40% 98%;
  --brand-yellow: 36 90% 55%; /* Now amber */
  --brand-yellow-foreground: 25 20% 15%;
  --brand-orange: 36 90% 55%;
  --brand-orange-foreground: 25 20% 15%;

  /* Keep these mapped for backward compatibility */
  --travi-purple: 15 72% 55%; /* Now terracotta */
  --travi-yellow: 36 90% 55%; /* Now amber */
  --travi-orange: 36 90% 55%;
  --travi-green: 150 25% 40%; /* Now olive */
  --travi-pink: 15 60% 65%; /* Now light terracotta */

  /* Warm neutrals */
  --travi-neutral-black: 25 20% 10%;
  --travi-neutral-gray-100: 25 15% 15%;
  --travi-neutral-gray-75: 25 10% 35%;
  --travi-neutral-gray-50: 30 8% 60%;
  --travi-neutral-gray-25: 35 10% 82%;

  /* Typography - TRAVI Brand Fonts */
  --font-sans: "Satoshi";
  --font-heading: "Chillax";
  --font-mono: JetBrains Mono, monospace;

  /* TRAVI Spacing */
  --radius: 0.75rem;
  --radius-sm: 0.5rem;
  --radius-lg: 1rem;
  --radius-full: 999px;
  --tracking-normal: 0em;
  --spacing: 0.25rem;

  /* Warm shadows */
  --shadow-2xs: 0px 2px 4px rgba(60, 40, 20, 0.04);
  --shadow-xs: 0px 2px 4px rgba(60, 40, 20, 0.06);
  --shadow-sm: 0px 2px 6px rgba(60, 40, 20, 0.08);
  --shadow: 0px 4px 12px rgba(60, 40, 20, 0.08);
  --shadow-md: 0px 4px 12px rgba(60, 40, 20, 0.1);
  --shadow-lg: 0px 6px 20px rgba(60, 40, 20, 0.12);
  --shadow-xl: 0px 8px 28px rgba(60, 40, 20, 0.15);
  --shadow-2xl: 0px 12px 40px rgba(60, 40, 20, 0.2);
  --shadow-level-1: 0px 2px 4px rgba(60, 40, 20, 0.06);
  --shadow-level-2: 0px 4px 12px rgba(60, 40, 20, 0.1);
  --shadow-level-3: 0px 6px 20px rgba(60, 40, 20, 0.14);

  /* Warm elevation */
  --elevate-1: rgba(60, 40, 20, 0.05);
  --elevate-2: rgba(60, 40, 20, 0.1);
  --button-outline: rgba(60, 40, 20, 0.25);
  --badge-outline: rgba(60, 40, 20, 0.1);
  --opaque-button-border-intensity: -8;

  /* Border color calculations */
  --sidebar-primary-border: hsl(var(--sidebar-primary));
  --sidebar-accent-border: hsl(var(--sidebar-accent));
  --primary-border: hsl(var(--primary));
  --secondary-border: hsl(var(--secondary));
  --muted-border: hsl(var(--muted));
  --accent-border: hsl(var(--accent));
  --destructive-border: hsl(var(--destructive));

  /* Admin Design System Tokens - Opaque surfaces, 4px grid, 6px radius */
  --admin-bg: 35 15% 97%;
  --admin-surface: 40 25% 99%;
  --admin-surface-elevated: 40 25% 99%;
  --admin-border: 35 12% 88%;
  --admin-border-subtle: 35 10% 92%;
  --admin-text: 25 20% 10%;
  --admin-text-muted: 25 10% 45%;
  --admin-text-subtle: 30 8% 60%;
  --admin-radius: 6px;
  --admin-spacing-xs: 4px;
  --admin-spacing-sm: 8px;
  --admin-spacing-md: 16px;
  --admin-spacing-lg: 24px;
  --admin-spacing-xl: 32px;
  --admin-header-height: 64px;
  --admin-sidebar-width: 240px;
}

/* TRAVI Design System - Dark Mode — Warm, Cinematic */
.dark {
  --background: 25 25% 8%; /* Warm dark, NOT pure black */
  --foreground: 35 15% 92%; /* Warm light */
  --border: 25 15% 18%;

  --card: 25 20% 11%;
  --card-foreground: 35 15% 92%;
  --card-border: 25 15% 16%;

  --popover: 25 20% 12%;
  --popover-foreground: 35 15% 92%;
  --popover-border: 25 15% 18%;

  --primary: 15 72% 58%; /* Slightly brighter terracotta */
  --primary-foreground: 40 40% 98%;

  --secondary: 25 15% 18%;
  --secondary-foreground: 35 15% 90%;

  --muted: 25 15% 15%;
  --muted-foreground: 30 8% 55%;

  --accent: 36 50% 18%;
  --accent-foreground: 36 80% 75%;

  --destructive: 0 72% 60%;
  --destructive-foreground: 0 0% 100%;

  --input: 25 15% 25%;
  --ring: 15 72% 58%;

  --chart-1: 15 72% 60%;
  --chart-2: 150 30% 50%;
  --chart-3: 36 85% 60%;
  --chart-4: 185 50% 45%;
  --chart-5: 25 55% 60%;

  --sidebar: 25 25% 6%;
  --sidebar-foreground: 35 15% 92%;
  --sidebar-border: 25 15% 14%;
  --sidebar-primary: 15 72% 58%;
  --sidebar-primary-foreground: 40 40% 98%;
  --sidebar-accent: 36 30% 15%;
  --sidebar-accent-foreground: 35 15% 90%;
  --sidebar-ring: 15 72% 58%;

  /* Brand colors — dark mode overrides */
  --brand-purple: 15 72% 58%;
  --brand-purple-foreground: 40 40% 98%;
  --brand-yellow: 36 85% 60%;
  --brand-yellow-foreground: 25 20% 15%;
  --brand-orange: 36 85% 60%;
  --brand-orange-foreground: 40 40% 98%;

  /* Dark warm shadows */
  --shadow-2xs: 0px 2px 4px rgba(0, 0, 0, 0.2);
  --shadow-xs: 0px 2px 4px rgba(0, 0, 0, 0.25);
  --shadow-sm: 0px 2px 6px rgba(0, 0, 0, 0.3);
  --shadow: 0px 4px 12px rgba(0, 0, 0, 0.35);
  --shadow-md: 0px 4px 12px rgba(0, 0, 0, 0.35);
  --shadow-lg: 0px 6px 20px rgba(0, 0, 0, 0.45);
  --shadow-xl: 0px 8px 28px rgba(0, 0, 0, 0.55);
  --shadow-2xl: 0px 12px 40px rgba(0, 0, 0, 0.65);
  --shadow-level-1: 0px 2px 4px rgba(0, 0, 0, 0.25);
  --shadow-level-2: 0px 4px 12px rgba(0, 0, 0, 0.35);
  --shadow-level-3: 0px 6px 20px rgba(0, 0, 0, 0.45);

  --elevate-1: rgba(255, 255, 255, 0.05);
  --elevate-2: rgba(255, 255, 255, 0.1);
  --button-outline: rgba(255, 255, 255, 0.15);
  --badge-outline: rgba(255, 255, 255, 0.08);
  --opaque-button-border-intensity: 9;

  --sidebar-primary-border: hsl(var(--sidebar-primary));
  --sidebar-accent-border: hsl(var(--sidebar-accent));
  --primary-border: hsl(var(--primary));
  --secondary-border: hsl(var(--secondary));
  --muted-border: hsl(var(--muted));
  --accent-border: hsl(var(--accent));
  --destructive-border: hsl(var(--destructive));

  /* Admin Design System Tokens (Dark Mode) */
  --admin-bg: 25 20% 6%;
  --admin-surface: 25 18% 10%;
  --admin-surface-elevated: 25 15% 14%;
  --admin-border: 25 12% 18%;
  --admin-border-subtle: 25 10% 14%;
  --admin-text: 35 10% 92%;
  --admin-text-muted: 30 5% 55%;
  --admin-text-subtle: 30 5% 40%;
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased text-foreground;
    background-color: transparent;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: var(--font-heading);
  }
}

/* TRAVI Status Badge Colors */
.badge-success {
  @apply bg-emerald-100 text-emerald-800 dark:bg-emerald-900/40 dark:text-emerald-300;
}

.badge-warning {
  @apply bg-amber-100 text-amber-800 dark:bg-amber-900/40 dark:text-amber-300;
}

.badge-danger {
  @apply bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-300;
}

.badge-info {
  @apply bg-sky-100 text-sky-800 dark:bg-sky-900/40 dark:text-sky-300;
}

/* TRAVI Navigation Active State */
.nav-item-active {
  @apply bg-travi-purple/10 dark:bg-travi-purple/20;
}

.nav-item-active-icon {
  color: hsl(var(--travi-purple));
}

/* TRAVI Brand Gradients - DISABLED (NO GRADIENTS except SubtleSkyBackground)
.brand-gradient {
  background: linear-gradient(135deg, #6443F4 0%, #7C5DF7 50%, #9577FA 100%);
}

.brand-gradient-vertical {
  background: linear-gradient(180deg, #6443F4 0%, #7C5DF7 50%, #9577FA 100%);
}

.brand-gradient-soft {
  background: linear-gradient(135deg, rgba(100, 67, 244, 0.9) 0%, rgba(124, 93, 247, 0.9) 50%, rgba(149, 119, 250, 0.9) 100%);
}

.brand-gradient-text {
  background: linear-gradient(135deg, #6443F4 0%, #7C5DF7 50%, #9577FA 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
*/

/* Brand Gold Text */
.text-brand-gold {
  color: #facc15;
}

/* Subtle noise texture overlay */
.noise-texture::before {
  content: "";
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.04'/%3E%3C/svg%3E");
  pointer-events: none;
  z-index: 1;
}

/**
 * Using the elevate system.
 * Automatic contrast adjustment.
 */
@layer utilities {
  input[type="search"]::-webkit-search-cancel-button {
    @apply hidden;
  }

  [contenteditable][data-placeholder]:empty::before {
    content: attr(data-placeholder);
    color: hsl(var(--muted-foreground));
    pointer-events: none;
  }

  .no-default-hover-elevate {
  }
  .no-default-active-elevate {
  }

  .toggle-elevate::before,
  .toggle-elevate-2::before {
    content: "";
    pointer-events: none;
    position: absolute;
    inset: 0px;
    border-radius: inherit;
    z-index: -1;
  }

  .toggle-elevate.toggle-elevated::before {
    background-color: var(--elevate-2);
  }

  .border.toggle-elevate::before {
    inset: -1px;
  }

  .hover-elevate:not(.no-default-hover-elevate),
  .active-elevate:not(.no-default-active-elevate),
  .hover-elevate-2:not(.no-default-hover-elevate),
  .active-elevate-2:not(.no-default-active-elevate) {
    position: relative;
    z-index: 0;
  }

  .hover-elevate:not(.no-default-hover-elevate)::after,
  .active-elevate:not(.no-default-active-elevate)::after,
  .hover-elevate-2:not(.no-default-hover-elevate)::after,
  .active-elevate-2:not(.no-default-active-elevate)::after {
    content: "";
    pointer-events: none;
    position: absolute;
    inset: 0px;
    border-radius: inherit;
    z-index: 999;
  }

  .hover-elevate:hover:not(.no-default-hover-elevate)::after,
  .active-elevate:active:not(.no-default-active-elevate)::after {
    background-color: var(--elevate-1);
  }

  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,
  .active-elevate-2:active:not(.no-default-active-elevate)::after {
    background-color: var(--elevate-2);
  }

  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,
  .border.active-elevate:not(.no-active-interaction-elevate)::after,
  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,
  .border.active-elevate-2:not(.no-active-interaction-elevate)::after {
    inset: -1px;
  }
}

/* =============================================================================
   Accessibility: Skip Link & Focus Styles
   ============================================================================= */

.skip-link:focus {
  position: fixed !important;
  width: auto !important;
  height: auto !important;
  padding: 0.5rem 1rem !important;
  margin: 0 !important;
  overflow: visible !important;
  clip: auto !important;
  white-space: nowrap !important;
}

*:focus-visible {
  outline: 2px solid hsl(var(--ring));
  outline-offset: 2px;
}

button:focus-visible,
a:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible,
[tabindex]:focus-visible {
  outline: 2px solid hsl(var(--ring));
  outline-offset: 2px;
}

/* =============================================================================
   RTL (Right-to-Left) Language Support
   Applies to Arabic (ar), Hebrew (he), Persian (fa), Urdu (ur)
   ============================================================================= */

/* Flip text alignment for RTL */
[dir="rtl"] {
  text-align: right;
}

/* Flip margins and paddings for common layout patterns */
[dir="rtl"] .ml-auto {
  margin-left: 0;
  margin-right: auto;
}
[dir="rtl"] .mr-auto {
  margin-right: 0;
  margin-left: auto;
}

/* Flip flex direction for horizontal layouts */
[dir="rtl"] .rtl-flip {
  flex-direction: row-reverse;
}

/* Flip icons that indicate direction */
[dir="rtl"] .rtl-flip-icon {
  transform: scaleX(-1);
}

/* Sidebar RTL adjustments */
[dir="rtl"] .sidebar-content {
  text-align: right;
}

/* Navigation RTL adjustments */
[dir="rtl"] nav ul {
  padding-right: 0;
}

/* Form inputs RTL */
[dir="rtl"] input,
[dir="rtl"] textarea,
[dir="rtl"] select {
  text-align: right;
}

/* Table RTL adjustments */
[dir="rtl"] table {
  direction: rtl;
}

[dir="rtl"] th,
[dir="rtl"] td {
  text-align: right;
}

/* Lists RTL */
[dir="rtl"] ul,
[dir="rtl"] ol {
  padding-right: 1.5rem;
  padding-left: 0;
}

/* Breadcrumbs RTL */
[dir="rtl"] .breadcrumb-separator {
  transform: scaleX(-1);
}

/* Search input with icon */
[dir="rtl"] .search-input-wrapper .search-icon {
  left: auto;
  right: 0.75rem;
}

[dir="rtl"] .search-input-wrapper input {
  padding-left: 0.75rem;
  padding-right: 2.5rem;
}

/* Card content alignment */
[dir="rtl"] .card-content {
  text-align: right;
}

/* Badge position adjustments */
[dir="rtl"] .badge-top-right {
  right: auto;
  left: 0.5rem;
}

[dir="rtl"] .badge-top-left {
  left: auto;
  right: 0.5rem;
}

/* Dialog close button position */
[dir="rtl"] .dialog-close-btn {
  right: auto;
  left: 1rem;
}

/* Progress bar RTL - flip direction */
[dir="rtl"] .progress-bar {
  direction: rtl;
}

/* Slider RTL */
[dir="rtl"] .slider-track {
  direction: rtl;
}

/* Tooltip arrow position */
[dir="rtl"] .tooltip-arrow-left {
  left: auto;
  right: -0.25rem;
}

[dir="rtl"] .tooltip-arrow-right {
  right: auto;
  left: -0.25rem;
}

/* Star ratings RTL */
[dir="rtl"] .star-rating {
  direction: ltr;
  display: inline-flex;
}

/* Price display RTL - keep numbers LTR */
[dir="rtl"] .price-display {
  direction: ltr;
  display: inline-block;
}

/* Phone numbers - keep LTR */
[dir="rtl"] .phone-number {
  direction: ltr;
  unicode-bidi: embed;
}

/* Email addresses - keep LTR */
[dir="rtl"] .email-address {
  direction: ltr;
  unicode-bidi: embed;
}

/* URLs - keep LTR */
[dir="rtl"] .url-display {
  direction: ltr;
  unicode-bidi: embed;
}

/* MapLibre GL Popup Styles */
.maplibregl-popup {
  z-index: 50;
}

.maplibregl-popup-content {
  padding: 0;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
  border: 1px solid hsl(var(--border));
  background: hsl(var(--background));
}

.maplibregl-popup-close-button {
  display: none;
}

.maplibregl-popup-anchor-bottom .maplibregl-popup-tip {
  border-top-color: hsl(var(--background));
}

.maplibregl-popup-anchor-top .maplibregl-popup-tip {
  border-bottom-color: hsl(var(--background));
}

.maplibregl-popup-anchor-left .maplibregl-popup-tip {
  border-right-color: hsl(var(--background));
}

.maplibregl-popup-anchor-right .maplibregl-popup-tip {
  border-left-color: hsl(var(--background));
}

.maplibregl-ctrl-group {
  background: hsl(var(--background)) !important;
  border-radius: 8px !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
}

.maplibregl-ctrl-group button {
  width: 32px !important;
  height: 32px !important;
}

.maplibregl-ctrl-group button:hover {
  background-color: hsl(var(--accent)) !important;
}

.maplibregl-ctrl-attrib-inner {
  font-size: 10px;
  color: hsl(var(--muted-foreground));
}

.dark .maplibregl-popup-content {
  background: hsl(var(--background));
  border-color: hsl(var(--border));
}

.dark .maplibregl-ctrl-group {
  background: hsl(var(--background)) !important;
}

/* =============================================================================
   Shared Animations
   Keyframes used across multiple page/component hero sections.
   ============================================================================= */

@keyframes gradient-flow {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

@keyframes rotate-slow {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

@keyframes morph {
  0%,
  100% {
    border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
  }
  50% {
    border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%;
  }
}

.rotate-slow {
  animation: rotate-slow 20s linear infinite;
}

.morph-blob {
  animation: morph 8s ease-in-out infinite;
}

/* =============================================================================
   Reduced Motion: respect prefers-reduced-motion for accessibility
   ============================================================================= */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
